*---小凡君m(2024.6.1)*
视频:[[WIFI密码破解.mp4]]

- 近源无线渗透中，进入对方的局域网是非常重要的一步，因此破解WIFI密码是近源无线渗透中的非常关键的一步．
- 该教程仅用于学习交流，**未经许可，请勿攻击他人网络．**
---

一般情况下，无线网络的加密方式有:
- **wep: **使用RC4加密，可用相关算法直接解密出密码，目前少量保守的家庭和单位使用**(高危)**
- **wap/wap2: **现阶段很难直接解密，但可以通过抓取握手包的方式暴力破解，也可以使用邪恶的双胞胎来骗取密码

本文介绍通过抓握手包的方式破解wap/wap2加密的无线网络．

---
## 零.渗透前准备
1. 我们需要Kali上能用且支持抓包的无线网卡，这里我用的是RT3070,Kali免驱动，使用方便．
2. 其次，我们需要准备一份或几份WIFI密码的字典用于暴力破解．
## 一.监听附近的无线网络
1. 先用`su`切换为root用户
2. 然后用`airmon-ng check kill`来清除干扰进程
3. 使用`airmon-ng`或`iwconfig`来检查网卡及状态，我们的无线网卡一般被识别成wlan0
4. 使用`airmon-ng start <网卡名>`开启监听模式，开启监听模式的网卡名称后一般会多一个"mon"，比如你的网卡是wlan0，那么这个时候再用`iwconfig`检查网卡及状态就应该变成"wlan0mon"
5. 然后使用`airodump-ng <监听网卡名>`来监听附近的无线网络，这里你应该可以看到附近的无线网络信息

> [!NOTE] 补充
> 这里补充几个用`airodump-ng <监听网卡名>`监听到的信息含义
> **BSSID:　**路由器(也就是无线网络发起端)的MAC地址
> **STATION: **某一无线网络中的设备的MAC地址(该信息前面的BSSID就表示该无线网络的路由器MAC地址，方便锁定某无线网络中的设备)
> **PWR: **该无线网络的强度，数值越大代表越强
> **CH: **该无线网络的信道
> **ENC: **该无线网络的加密方式
> **ESSID: **该无线网络的名称
## 二．监听目标WIFI
1. 在上一步我们监听到目标WIFI并获得相关信息后，我们可以用`<Ctrl>+C`结束监听进程
2. 然后用`airodump-ng -c <目标WIFI信道> -w <记录信息的路径及文件名> --bssid <目标WIFI的BSSID>　<监听网卡名>`来单独监听目标无线网络．然后我们会看到目标无线网络的信息以及已连接该无线网络的设备的信息．保持这一步的监听不动．
## 三．抓取握手包

> [!NOTE]　说明
> 在监听目标WIFI时，我们可以根据目标无线网络的信息以及连接该无线网络的设备的信息来使设备断开并重新连接该无线网络，并抓取握手包来破解密码

使用`aireplay-ng -0 <目标WIFI信道>　-a <目标WIFI的BSSID> -c <连接目标WIFI的设备的STATION>`来使相应设备断开并重连无线网络，这个时候如果目标无线网络监听页面出现**handshake**则表示抓包成功，如果没有就多试几次，让设备不断断开并重新连接，直到抓包成功．
## 四．暴力破解密码
1. 在抓包成功后，我们在<记录信息的路径及文件名>那里应该可以看到一个或多个cap文件 *(文件名后面可能会有-01之类的序号，如果有多个，就取最后抓到的那一个)*，然后使用`aircrack-ng -w <字典路径及名称> -b <目标WIFI的BSSID>　<抓取到的数据包路径及名称>`来用指定字典暴力破解密码．
2. 如果破解成功，则会显示**KEY FOUND!**并在后面接上密码明文
## 五．连接目标无线网络

在以上工作成功完成后，我们可关闭所有进程，并使用`airmon-ng stop <监听网卡名>`来关闭网卡的监听模式，然后我就可以用破解出来的密码正常连接目标无线网络了．